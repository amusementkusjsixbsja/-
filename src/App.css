/* 流式开关样式 */
.stream-toggle {
  margin: 16px 0;
  padding: 8px 12px;
  background: #f5f5f5;
  border-radius: 4px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.mode-info {
  color: #666;
  font-size: 0.9em;
}

/* 保留原有样式 */
.app {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
}

.container {
  display: flex;
  gap: 20px;
  margin-top: 20px;
  /* 关键修改 1: 为容器设置一个明确的高度，这是子元素高度计算的基础 */
  height: 80vh;
  /* 例如，设置为视口高度的80%，你可以根据需要调整 */
}

/* 
  关键修改 2: 将编辑区和预览区设置为 Flex 容器，
  这样它们内部的 textarea 和 preview-content 才能方便地撑满高度。
*/
.editor,
.preview {
  flex: 1;
  /* 移除 min-height，因为我们现在通过父容器控制高度 */
  display: flex;
  flex-direction: column;
  /* 让子元素垂直排列 */
}

textarea {
  width: 100%;
  /* 关键修改 3: 让 textarea 填满 .editor 的剩余空间 */
  flex-grow: 1;
  padding: 15px;
  font-size: 16px;
  border: 1px solid #ddd;
  border-radius: 4px;
  resize: none;
  /* 保持不可手动调整大小 */
  font-family: monospace;
  box-sizing: border-box;
  /* 防止 padding 和 border 撑大容器 */
  /* 关键修改 4: 移除 height: 100%，改用 flex-grow: 1 */
}

.preview-content {
  border: 1px solid #ddd;
  border-radius: 4px;
  padding: 20px;
  line-height: 1.6;
  /* 关键修改 5: 让预览区也填满 .preview 的剩余空间，并在溢出时显示滚动条 */
  flex-grow: 1;
  overflow-y: auto;
  /* 内容超出时，显示垂直滚动条 */
  box-sizing: border-box;
  word-wrap: break-word;
  /* 防止长单词或URL撑破布局 */
}

/* ==================== 任务列表样式 ==================== */

/* 步骤 1: 移除所有复选框的原生外观 */
.preview-content [type="checkbox"] {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;

  /* 基础尺寸和外边距，与原生复选框相似 */
  width: 16px;
  height: 16px;
  margin-right: 8px;
  margin-top: 2px;
  /* 微调与文字的对齐 */

  /* 定位，以便后面的勾选标记能相对于它定位 */
  position: relative;

  /* 绘制未选中状态的方框 */
  border: 1px solid #d1d5db;
  /* 灰色边框 */
  border-radius: 3px;
  background-color: #ffffff;
}

/* 步骤 2: 绘制选中状态的样式 */
.preview-content [type="checkbox"]:checked {
  /* 选中时的背景色和边框色 */
  background-color: #10b981;
  /* 绿色背景 */
  border-color: #10b981;
}

/* 步骤 3: 使用伪元素 ::after 绘制里面的“勾” */
.preview-content [type="checkbox"]:checked::after {
  content: '';
  /* 必须有 content */

  /* 绝对定位到复选框中心 */
  position: absolute;
  display: block;

  /* 勾的尺寸和位置 */
  top: 1px;
  left: 4px;

  /* 勾的样式：一个旋转的"L"形边框 */
  width: 4px;
  height: 8px;
  border: solid white;
  border-width: 0 2px 2px 0;

  /* 旋转45度，变成勾 */
  transform: rotate(45deg);
}

/* 原有GFM/公式/指令样式 (无需修改) */
.preview-content table {
  border-collapse: collapse;
  width: 100%;
  margin: 16px 0;
}

.preview-content th,
.preview-content td {
  border: 1px solid #ddd;
  padding: 8px 12px;
}

.badge {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 12px;
  font-size: 0.8em;
  margin: 0 4px;
  color: white;
}

.badge-success {
  background-color: #10b981;
}

.badge-warning {
  background-color: #f59e0b;
}

.callout {
  padding: 16px;
  border-radius: 6px;
  margin: 16px 0;
  border-left: 4px solid;
}

.callout-default {
  background-color: #f3f4f6;
  border-color: #6b7280;
}

.callout-danger {
  background-color: #fee2e2;
  border-color: #ef4444;
}